---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Hero from "../components/Hero.astro";
import TechStack from "../components/TechStack.astro";
import Projects from "../components/Projects.astro";
import About from "../components/About.astro";
import Contact from "../components/Contact.astro";
import SocialBar from "../components/SocialBar.astro";
---

<Layout title="Portafolio | Analista Programador Web">
	<!-- Barra de Navegación -->
	<Navbar />

	<main>
		<!-- Sección Inicio -->
		<div id="inicio">
			<Hero />
		</div>

		<!-- Carrusel Infinito de Tecnologías -->
		<TechStack />

		<!-- Sección Proyectos -->
		<Projects />

		<!-- Sección Sobre Mí -->
		<About />

		<!-- Sección Contacto y Footer -->
		<Contact />
		<SocialBar />
		<!-- Botón flotante de WhatsApp - Estilo Brutalista -->
		<a
			id="whatsapp-btn"
			href="https://wa.me/56931342699?text=Hola%20Ariel!%20Estoy%20interesado%20en%20un%20sitio%20web%20profesional.%20%C2%BFMe%20puedes%20ayudar%3F"
			target="_blank"
			class="fixed bottom-24 md:bottom-8 right-4 md:right-8 bg-[#25D366] text-white p-4 border-4 border-white z-50
    transition-all duration-300 hover:shadow-[6px_6px_0px_0px_#ccff00] hover:-translate-y-1
    opacity-0 translate-y-4 group flex items-center justify-center rounded-full"
			aria-label="Contactar por WhatsApp"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				viewBox="0 0 448 512"
				fill="currentColor"
				class="w-8 h-8"
			>
				<path
					d="M380.9 97.1C339-44.3 210.5-32 128.5 30.7 46.5 93.4 8.3 201.4 46.5 290.9l-19.6 85.9c-2.1 9.4 6.6 17.7 15.7 15.3l85.3-22.8c79.6 44 176.8 19.6 229.2-54.5 53.9-75.8 52.6-179-2.9-257.7zM224.6 372c-29.8 0-59.2-8-84.7-23.4l-6-3.7-50.6 13.5 13.5-49.3-3.9-6.4c-46-76 3.5-176.2 90.7-189.5 64.9-9.9 130.2 27.2 151.3 88.6 23.7 68.7-14.9 146-81.3 168.5-9.3 3.1-19 4.7-29 4.7zm101.2-135.6c-5.5-2.8-32.2-15.9-37.3-17.7-5-1.8-8.6-2.8-12.2 2.8-3.5 5.5-14 17.7-17.2 21.2-3.2 3.5-6.6 3.9-12.1 1.1-5.5-2.8-23.3-8.6-44.4-27.3-16.4-14.2-27.4-31.7-30.6-37.3-3.2-5.5-.3-8.5 2.4-11.3 2.5-2.5 5.5-6.6 8.2-9.9 2.7-3.3 3.5-5.5 5.3-9.1 1.8-3.5.9-6.9-.4-9.7-1.1-2.8-12.2-29.3-16.7-40.2-4.4-10.6-8.9-9.2-12.2-9.4-3.1-.2-6.9-.2-10.7-.2s-9.8 1.4-14.9 6.9c-5 5.5-19.6 19.1-19.6 46 0 26.9 20.1 52.9 22.9 56.6 2.8 3.7 39.6 59.9 96 84 13.4 5.8 23.9 9.2 32.1 11.8 13.5 4.3 25.8 3.7 35.5 2.3 10.8-1.6 32.2-13.1 36.7-25.7 4.5-12.7 4.5-23.6 3.2-25.7-1.3-2.1-4.9-3.4-10.4-6.1z"
				></path>
			</svg>

			<!-- Tooltip -->
			<span
				class="absolute right-full mr-4 top-1/2 -translate-y-1/2 bg-black text-neo-lime px-4 py-2 font-mono text-sm whitespace-nowrap border-2 border-neo-lime opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"
			>
				¡Hablemos!
			</span>
		</a>
	</main>
	<script>
		// Animación inteligente según scroll
		const wspBtn = document.getElementById("whatsapp-btn");
		window.addEventListener("scroll", () => {
			if (window.scrollY > 500) {
				wspBtn?.classList.add("opacity-100", "translate-y-0");
				wspBtn?.classList.remove("opacity-0", "translate-y-4");
			} else {
				wspBtn?.classList.add("opacity-0", "translate-y-4");
				wspBtn?.classList.remove("opacity-100", "translate-y-0");
			}
		});
	</script>
</Layout>
