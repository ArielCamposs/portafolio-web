---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Hero from "../components/Hero.astro";
import TechStack from "../components/TechStack.astro";
import Projects from "../components/Projects.astro";
import About from "../components/About.astro";
import Contact from "../components/Contact.astro";
import SocialBar from "../components/SocialBar.astro";
---

<Layout title="Portafolio | Analista Programador Computacional">
	<!-- Barra de Navegaci贸n -->
	<Navbar />

	<main>
		<!-- Secci贸n Inicio -->
		<div id="inicio">
			<Hero />
		</div>

		<!-- Carrusel Infinito de Tecnolog铆as -->
		<TechStack />

		<!-- Secci贸n Proyectos -->
		<Projects />

		<!-- Secci贸n Sobre M铆 -->
		<About />

		<!-- Secci贸n Contacto y Footer -->
		<Contact />
		<SocialBar />
		<!-- Bot贸n flotante de WhatsApp - Premium Design -->
		<a
			id="whatsapp-btn"
			href="https://wa.me/56931342699?text=Hola%20Ariel!%20Estoy%20interesado%20en%20un%20sitio%20web%20profesional.%20%C2%BFMe%20puedes%20ayudar%3F"
			target="_blank"
			class="whatsapp-float"
			aria-label="Contactar por WhatsApp"
		>
			<!-- Pulse ring animation -->
			<span class="pulse-ring"></span>
			<span class="pulse-ring delay"></span>

			<!-- Button content -->
			<span class="wsp-icon">
				<svg
					viewBox="0 0 32 32"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M16 3C8.82 3 3 8.82 3 16C3 18.79 3.88 21.37 5.39 23.47L3.58 28.9L9.18 27.13C11.18 28.43 13.51 29.17 16 29.17C23.18 29.17 29 23.35 29 16.17C29 8.99 23.18 3 16 3Z"
						fill="#25D366"></path>
					<path
						d="M16 5C22.07 5 27 9.93 27 16C27 22.07 22.07 27 16 27C13.75 27 11.65 26.35 9.88 25.21L5.79 26.56L7.17 22.61C5.84 20.73 5 18.46 5 16C5 9.93 9.93 5 16 5Z"
						fill="white"></path>
					<path
						d="M16 7C11.03 7 7 11.03 7 16C7 18.22 7.79 20.26 9.12 21.86L8.15 24.85L11.24 23.91C12.76 24.93 14.32 25.5 16 25.5C20.97 25.5 25 21.47 25 16.5C25 11.53 20.97 7 16 7Z"
						fill="#25D366"></path>
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M12.9 10.5C12.65 10.5 12.22 10.59 11.89 10.97C11.56 11.35 10.66 12.19 10.66 13.9C10.66 15.61 11.91 17.26 12.09 17.51C12.27 17.76 14.47 21.17 17.89 22.35C20.69 23.32 21.31 23.07 21.96 23.01C22.61 22.95 24.02 22.13 24.32 21.28C24.62 20.43 24.62 19.71 24.53 19.55C24.44 19.39 24.18 19.31 23.79 19.12C23.4 18.93 21.72 18.1 21.38 17.97C21.04 17.84 20.8 17.78 20.55 18.16C20.3 18.54 19.64 19.31 19.43 19.55C19.22 19.79 19.01 19.82 18.62 19.63C18.23 19.44 17.1 19.07 15.77 17.87C14.73 16.93 14.04 15.78 13.83 15.4C13.62 15.02 13.81 14.81 13.99 14.62C14.15 14.45 14.38 14.18 14.56 13.97C14.74 13.76 14.81 13.61 14.93 13.37C15.05 13.13 14.99 12.92 14.9 12.73C14.81 12.54 14.08 10.82 13.77 10.06C13.55 9.53 13.15 10.5 12.9 10.5Z"
						fill="white"></path>
				</svg>
			</span>

			<!-- Tooltip -->
			<span class="wsp-tooltip"> 隆Hablemos!  </span>
		</a>

		<style>
			.whatsapp-float {
				position: fixed;
				bottom: 6rem;
				right: 1.5rem;
				width: 60px;
				height: 60px;
				display: flex;
				align-items: center;
				justify-content: center;
				z-index: 50;
				border-radius: 50%;
				background: linear-gradient(145deg, #25d366 0%, #128c7e 100%);
				box-shadow:
					0 4px 20px rgba(37, 211, 102, 0.4),
					0 0 40px rgba(37, 211, 102, 0.2);
				opacity: 0;
				transform: translateY(20px) scale(0.8);
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				text-decoration: none;
			}

			.whatsapp-float.visible {
				opacity: 1;
				transform: translateY(0) scale(1);
			}

			.whatsapp-float:hover {
				transform: translateY(-4px) scale(1.1);
				box-shadow:
					0 8px 30px rgba(37, 211, 102, 0.5),
					0 0 60px rgba(37, 211, 102, 0.3);
			}

			/* Pulse animation rings */
			.pulse-ring {
				position: absolute;
				width: 100%;
				height: 100%;
				border-radius: 50%;
				border: 2px solid #25d366;
				opacity: 0;
				animation: pulse-animation 2s ease-out infinite;
			}

			.pulse-ring.delay {
				animation-delay: 0.5s;
			}

			@keyframes pulse-animation {
				0% {
					transform: scale(1);
					opacity: 0.6;
				}
				100% {
					transform: scale(1.8);
					opacity: 0;
				}
			}

			/* Icon container */
			.wsp-icon {
				display: flex;
				align-items: center;
				justify-content: center;
				width: 36px;
				height: 36px;
				z-index: 2;
			}

			.wsp-icon svg {
				width: 100%;
				height: 100%;
				filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
			}

			/* Tooltip */
			.wsp-tooltip {
				position: absolute;
				right: calc(100% + 12px);
				top: 50%;
				transform: translateY(-50%);
				background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
				color: #ccff00;
				padding: 0.6rem 1rem;
				border-radius: 10px;
				font-size: 0.85rem;
				font-weight: 600;
				white-space: nowrap;
				opacity: 0;
				pointer-events: none;
				transition: all 0.3s ease;
				border: 1px solid rgba(204, 255, 0, 0.3);
				box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
			}

			.wsp-tooltip::after {
				content: "";
				position: absolute;
				right: -6px;
				top: 50%;
				transform: translateY(-50%);
				border: 6px solid transparent;
				border-left-color: #1a1a1a;
			}

			.whatsapp-float:hover .wsp-tooltip {
				opacity: 1;
				transform: translateY(-50%) translateX(-5px);
			}

			/* Responsive adjustments */
			@media (min-width: 768px) {
				.whatsapp-float {
					bottom: 2rem;
					right: 2rem;
					width: 65px;
					height: 65px;
				}

				.wsp-icon {
					width: 40px;
					height: 40px;
				}
			}
		</style>
	</main>
	<script>
		// Animaci贸n inteligente seg煤n scroll
		const wspBtn = document.getElementById("whatsapp-btn");
		window.addEventListener("scroll", () => {
			if (window.scrollY > 500) {
				wspBtn?.classList.add("visible");
			} else {
				wspBtn?.classList.remove("visible");
			}
		});
	</script>
</Layout>
